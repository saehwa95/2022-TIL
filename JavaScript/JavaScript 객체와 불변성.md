# JavaScript 객체와 불변성

## 기본형 데이터와 참조형 데이터
### 기본형 데이터
- 객체가 아닌 데이터
- 그 자체로 값을 저장하기 때문에 불변성을 갖는다.
 
### 참조형 데이터
- 변수에 할당할 때 값이 아닌 것들을 저장한다.(함수 등)
- 그 안의 구성 요소를 바꿀 수 있기 때문에 가변성을 갖는다. 

## 불변 객체를 만드는 방법
### 불변 객체
- 변하지 않는 객체. 즉 이미 할당된 객체가 변하지 않는다. 
- 자바스크립트에서 불변객체를 만들 수 있는 방법은 아래와 같다.

### 1. const
- 자바스크립트 키워드 중 하나인 const이다.
- onst 키워드는 변수를 상수로 선언할 수 있고, 일반적으로 상수로 선언된 변수는 값을 바꾸지 못하는 것으로 알려져 있다.
- 객체 재할당은 불가능하지만 객체의 속성은 변경 가능하다. 
 
### 2. Object.freeze()
- 자바스크립트에서 기본적으로 제공하는 메소드인 Object.freeze() 메소드이다.
- 공식 문서에서는 "객체를 동결하기 위한 메소드" 라고 적혀있다.
-  Object.freeze()는 동결된 객체를 반환하지만 객체의 재할당은 가능하다. 
-  때문에 Object.freeze()도 불변 객체라고 할 수는 없다.

### 3. const + Object.freeze()
- const키워드로 바인딩 된 변수를 상수화 시킨다.
- Object.freeze()로 해당 변수를 동결 객체를 만든다.
```JavaScript
const test = {
    'name' : 'jung'
};

Object.freeze(test);
```
- 객체의 재할당과 객체의 속성 둘 다 변경불가능한 불변 객체가 된다.
  
[좀 더 자세히 알고싶다면 링크 클릭!](https://spiderwebcoding.tistory.com/8)

## 얕은 복사와 깊은 복사
### 얕은 복사
- 얕은 복사는 참조(주소)값의 복사를 나타낸다.
```JavaScript
const obj = { value: 1 }
const newObj = obj;

newObj.value = 2;

colsole.log(obj.value); // 2
console.log(obj === newObj) // true
```
- obj 객체를 새로운 newObj 객체에 할당하였으며 이를 참조 할당이라 부른다.
- 복사 후 newObj 객체의 value값을 변경하였더니 기존의 obj.value값도 같이 변경된 것을 알 수 있다.
- 두 객체를 비교해도 true로 나온다.
- 이는 데이터가 그대로 생성되는 것이 아닌 해당 데이터의 참조 값(메모리 주소)를 전달하여 결국 한 데이터를 공유하는 것이다.


### 깊은 복사
- 깊은 복사는 값 자체의 복사를 나타낸다.
```JavaScript
let a = 1;
let b = a;

b = 2;

console.log(a); // 1
console.log(b); // 2
console.log(a === b); // false
```
- 변수 a를 새로운 b에 할당하였고 b 값을 변경하여도 기존의 a의 값은 변경되지 않는다.
- 두 값을 비교하면 false가 출력되며 서로의 값은 단독으로 존재하다는 것을 알 수 있다.
- 이는 독립적인 메모리에 값 자체를 할당하여 생성하는 것이라 볼 수 있다.
